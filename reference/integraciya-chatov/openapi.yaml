openapi: 3.0.0
info:
  title: Интеграция чатов
  version: '1.0'
  description: "## Вариант 1: Экспорт в json (рекомендованный)\n\n    {\n      \"operatos\": [  # опциональный блок\n         {\n           \"operator_id\": \"1234\",\n           \"operator_name\": \"Василий Петров\",\n           \"operator_group\": \"support\"\n         },\n         ...\n      ],\n      \"chats\": [\n         {\n            \"id\": \"1\", # id чата, формат - произвольная строчка\n            \"client_id\": \"+79160001122(Алеександр)\", \n            \"operator_id\": \"1234\" # Идентификатор оператора, формат - произвольная строчка \n            \"date\": \"2019-01-01T11:00:05+03:00\", # время начала чата\n            \"custom_fields\": {    # опциональный параметр, \n               # набор произвольных дополнительных атрибутов чата\n               \"key\" : \"value\"   # пример\n            },\n            \"messages\": [\n                {\n                   \"text\": \"Привет !\",\n                   \"date\": \"2019-01-01T11:00:08+03:00\", # опциональный параметр, время отправки сообщения\n                   \"direction\": \"in\", # in - сообщения клиента, out - сообщения оператора\n                },\n                {\n                   \"text\": \"Здравствуйте !\",\n                   \"date\": \"2019-01-01T11:01:00+03:00\", # опциональный параметр, время отправки сообщения\n                   \"direction\": \"out\", # in - сообщения клиента, out - сообщения оператора\n                   \"operator_id\": \"идентефикатор оператора\", # опциональный параметр, \n                       # может использоваться если общался бот и оператор или несколько операторов                \n                },\n                ...\n             ]\n         },\n         {\n            \"id\": \"2\",\n            .... \n         },\n         ....\n       ]\n    }\n    \n## Вариант 2: Экспорт в Excel таблице\n\nНадо подготовить Excel таблицу со следующими колонками\n\n     id – id чата: 12345 (обязательный столбец, формат строка или число)\n     client_id – идентификатор клиента и/или имя клиента: 12345 (обязательный столбец, формат строка или число)\n     operator_id – идентификатор оператора: 12345 (обязательный столбец, формат строка или число)\n     date – время начала чата: 2019-01-01T11:00:05+03:00 (обязательный столбец, формат строка или число)\n     text – текст всего чата, в котором есть маркер сообщений оператора/клиента, опционально может быть время начала сообщений \n       Пример1: \"Клиент: Привет !\\nОператор: Здравствуйте!\"\n       Пример2: \"<2019-01-01T11:01:00+03:00>Клиент: Привет !\\n<2019-01-01T11:01:00+03:00>Оператор: Здравствуйте!\"\n\nТак же есть опция передать таблицу в которой сообщения в диалоге разбиты по отдельным столбцам в таблице.\nТак же можно передавать в таблице дополнительные поля из CRM как отдельные колонки."
servers:
  - url: 'http://localhost:3000'
paths: {}
components:
  schemas: {}
