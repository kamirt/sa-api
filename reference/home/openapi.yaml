openapi: 3.0.0
info:
  title: Home
  version: '1.0'
  description: 'Адрес хоста для запросов: https://cloud.speechanalytics.ru/'
servers:
  - url: 'http://dev.peechanalytics'
    description: dev
  - url: 'https://cloud.speechanalytics.ru'
    description: prod
paths:
  /auth/login:
    post:
      summary: Login
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
              examples:
                Успешный ответ:
                  value:
                    success: true
      description: |-
        В ответе есть директива **set-cookie** эту куку надо использовать во всех последующих запросах. |
        Время жизни cookie - 1 год.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                password:
                  type: string
            examples:
              Admin login:
                value:
                  username: admin
                  password: admin
          application/xml:
            schema:
              type: object
              properties:
                username:
                  type: string
                password:
                  type: string
            examples:
              example-1:
                value:
                  username: admin
                  password: admin
        description: ''
      operationId: Login
  /account/available_accounts:
    get:
      summary: Available Accounts
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
              examples:
                Успешный ответ:
                  value:
                    - id: 100203
                      name: Test Account
                    - id: 500448
                      name: New pilot
                    - id: 612306
                      name: sipuni_test
      description: '### Список доступных аккаунтов'
    parameters: []
  /account:
    get:
      summary: Get Account
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                  status:
                    type: string
              examples:
                example-1:
                  value:
                    id: 100203
                    status: VALID
      description: '### Узнать текущий аккаунт'
  '/account/change/{account_id}':
    parameters:
      - type: string
        name: account_id
        in: path
        required: true
        description: ''
        schema:
          type: number
    post:
      summary: Change Account
      responses:
        '200':
          description: OK
          headers:
            Set-Cookie:
              schema:
                type: string
              description: 'flask_login_remember_token=9b4fdf03-4951-4747-a3ea-98612120aa36|4a58a3f12ba52ffa7b055a3ccda3b1389665f504143304c1bf2df462749417be47466bff15b11a01364a409c7fe2a3c6932f41bc33f53bcee274c154066109d4; session=.eJwlzjtuw0AMBNC7sJaA5ZLcjy9jkEsSdpMAslUFuXuUBNMMphi8L7jnEa8H3N7HGRvcnw43MHQrk2e1RMK25tWFSuNZtAZ5E6yCbBlhffholtfEK6eSDIpqU7lI5TZqX17EzVQoFV05bXDNJMfe2TGuQ-LBsoSFw2kFwwa61uf58f7zYPnNBucrjn_gNE7PQvvlwp07910pdJ-jYcVaVKnB9w_2Nj0P.XaXfXQ.LLDN8vo_Iv4-PzOjHxoaZAQneSk'
          content:
            application/json:
              schema:
                type: object
                properties: {}
      description: |-
        ### Смена аккаунта

        Если у вашего пользователя есть доступ к нескольким аккаунтам, то некоторые запросы к API могут работать неправильно, т.к. может быть выбран неверный аккаунт.
components:
  schemas: {}
  securitySchemes:
    Basic:
      type: http
      scheme: Basic
      description: cookies and header
